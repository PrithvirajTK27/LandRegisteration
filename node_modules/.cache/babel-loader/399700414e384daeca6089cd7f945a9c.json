{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\src\\\\RegisterSeller.js\";\nimport React, { Component } from 'react';\nimport LandContract from \"./artifacts/Land.json\";\nimport getWeb3 from \"./getWeb3\";\nimport ipfs from './ipfs';\nimport { FormGroup, FormControl, Button, Spinner, FormFile } from 'react-bootstrap'; //import Navigation from './Navigation'\n\nvar RegisterSeller =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RegisterSeller, _Component);\n\n  function RegisterSeller(props) {\n    var _this;\n\n    _classCallCheck(this, RegisterSeller);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RegisterSeller).call(this, props));\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var web3, accounts, networkId, deployedNetwork, instance;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              //For refreshing page only once\n              if (!window.location.hash) {\n                window.location = window.location + '#loaded';\n                window.location.reload();\n              }\n\n              _context.prev = 1;\n              _context.next = 4;\n              return getWeb3();\n\n            case 4:\n              web3 = _context.sent;\n              _context.next = 7;\n              return web3.eth.getAccounts();\n\n            case 7:\n              accounts = _context.sent;\n              _context.next = 10;\n              return web3.eth.net.getId();\n\n            case 10:\n              networkId = _context.sent;\n              deployedNetwork = LandContract.networks[networkId];\n              instance = new web3.eth.Contract(LandContract.abi, deployedNetwork && deployedNetwork.address);\n\n              _this.setState({\n                LandInstance: instance,\n                web3: web3,\n                account: accounts[0]\n              });\n\n              _context.next = 20;\n              break;\n\n            case 16:\n              _context.prev = 16;\n              _context.t0 = _context[\"catch\"](1);\n              // Catch any errors for any of the above operations.\n              alert(\"Failed to load web3, accounts, or contract. Check console for details.\");\n              console.error(_context.t0);\n\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 16]]);\n    }));\n    _this.addDoc =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return ipfs.files.add(_this.state.buffer2, function (error, result) {\n                if (error) {\n                  alert(error);\n                  return;\n                }\n\n                alert(result[0].hash);\n\n                _this.setState({\n                  document: result[0].hash\n                });\n\n                console.log('document:', _this.state.document);\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    _this.registerSeller =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _this.addDoc(); // alert('After add image')\n\n\n              _context3.next = 3;\n              return new Promise(function (resolve) {\n                return setTimeout(resolve, 10000);\n              });\n\n            case 3:\n              if (!(_this.state.name == '' || _this.state.age == '' || _this.state.aadharNumber == '' || _this.state.panNumber == '' || _this.state.landsOwned == '')) {\n                _context3.next = 7;\n                break;\n              }\n\n              alert(\"All the fields are compulsory!\");\n              _context3.next = 22;\n              break;\n\n            case 7:\n              if (!(!Number(_this.state.aadharNumber) || _this.state.aadharNumber.length != 12)) {\n                _context3.next = 11;\n                break;\n              }\n\n              alert(\"Aadhar Number should be 12 digits long!\");\n              _context3.next = 22;\n              break;\n\n            case 11:\n              if (!(_this.state.panNumber.length != 10)) {\n                _context3.next = 15;\n                break;\n              }\n\n              alert(\"Pan Number should be a 10 digit unique number!\");\n              _context3.next = 22;\n              break;\n\n            case 15:\n              if (!(!Number(_this.state.age) || _this.state.age < 21)) {\n                _context3.next = 19;\n                break;\n              }\n\n              alert(\"Your age must be a number\");\n              _context3.next = 22;\n              break;\n\n            case 19:\n              _context3.next = 21;\n              return _this.state.LandInstance.methods.registerSeller(_this.state.name, _this.state.age, _this.state.aadharNumber, _this.state.panNumber, _this.state.landsOwned, _this.state.document).send({\n                from: _this.state.account,\n                gas: 2100000\n              }).then(function (response) {\n                _this.props.history.push(\"/Seller/SellerDashboard\");\n              });\n\n            case 21:\n              //Reload\n              window.location.reload(false);\n\n            case 22:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    _this.updateName = function (event) {\n      return _this.setState({\n        name: event.target.value\n      });\n    };\n\n    _this.updateAge = function (event) {\n      return _this.setState({\n        age: event.target.value\n      });\n    };\n\n    _this.updateAadhar = function (event) {\n      return _this.setState({\n        aadharNumber: event.target.value\n      });\n    };\n\n    _this.updatePan = function (event) {\n      return _this.setState({\n        panNumber: event.target.value\n      });\n    };\n\n    _this.updateOwnedLands = function (event) {\n      return _this.setState({\n        landsOwned: event.target.value\n      });\n    };\n\n    _this.state = {\n      LandInstance: undefined,\n      account: null,\n      web3: null,\n      name: '',\n      age: '',\n      aadharNumber: '',\n      panNumber: '',\n      landsOwned: '',\n      isVerified: false,\n      buffer2: null,\n      document: ''\n    };\n    _this.captureDoc = _this.captureDoc.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addDoc = _this.addDoc.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(RegisterSeller, [{\n    key: \"captureDoc\",\n    value: function captureDoc(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      var file2 = event.target.files[0];\n      var reader2 = new window.FileReader();\n      reader2.readAsArrayBuffer(file2);\n\n      reader2.onloadend = function () {\n        _this2.setState({\n          buffer2: Buffer(reader2.result)\n        });\n\n        console.log('buffer2', _this2.state.buffer2);\n      };\n\n      console.log('caoture doc...');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.state.web3) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"img-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: \"https://i.pinimg.com/originals/71/6e/00/716e00537e8526347390d64ec900107d.png\",\n          className: \"logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"wine-text-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"site-title wood-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"Land Registry\"))), React.createElement(\"div\", {\n          className: \"auth-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"auth-inner\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(Spinner, {\n          animation: \"border\",\n          variant: \"warning\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        })))))));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"bodyC\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"img-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://i.pinimg.com/originals/71/6e/00/716e00537e8526347390d64ec900107d.png\",\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"wine-text-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"site-title wood-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Land Registry\"))), React.createElement(\"div\", {\n        className: \"auth-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"auth-inner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Seller Registration\"))), React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Enter Name --\"), React.createElement(\"div\", {\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        input: \"text\",\n        value: this.state.name,\n        onChange: this.updateName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Enter Age --\"), React.createElement(\"div\", {\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        input: \"text\",\n        value: this.state.age,\n        onChange: this.updateAge,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"Enter Aadhar No --\"), React.createElement(\"div\", {\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        input: \"text\",\n        value: this.state.aadharNumber,\n        onChange: this.updateAadhar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"Enter Pan no --\"), React.createElement(\"div\", {\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        input: \"text\",\n        value: this.state.panNumber,\n        onChange: this.updatePan,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \"Enter Owned Lands --\"), React.createElement(\"div\", {\n        className: \"form-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        input: \"text\",\n        value: this.state.landsOwned,\n        onChange: this.updateOwnedLands,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, \"Add your Aadhar Card (PDF Format)\"), React.createElement(FormFile, {\n        id: \"File2\",\n        onChange: this.captureDoc,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      })), React.createElement(Button, {\n        onClick: this.registerSeller,\n        className: \"button-vote\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"Register as Seller\"))))));\n    }\n  }]);\n\n  return RegisterSeller;\n}(Component);\n\nexport default RegisterSeller;","map":{"version":3,"sources":["C:\\Users\\prith\\Desktop\\New folder (5)\\starter_kit-master\\LandRegisteration\\src\\RegisterSeller.js"],"names":["React","Component","LandContract","getWeb3","ipfs","FormGroup","FormControl","Button","Spinner","FormFile","RegisterSeller","props","componentDidMount","window","location","hash","reload","web3","eth","getAccounts","accounts","net","getId","networkId","deployedNetwork","networks","instance","Contract","abi","address","setState","LandInstance","account","alert","console","error","addDoc","files","add","state","buffer2","result","document","log","registerSeller","Promise","resolve","setTimeout","name","age","aadharNumber","panNumber","landsOwned","Number","length","methods","send","from","gas","then","response","history","push","updateName","event","target","value","updateAge","updateAadhar","updatePan","updateOwnedLands","undefined","isVerified","captureDoc","bind","preventDefault","file2","reader2","FileReader","readAsArrayBuffer","onloadend","Buffer","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport LandContract from \"./artifacts/Land.json\"\r\nimport getWeb3 from \"./getWeb3\"\r\nimport ipfs from './ipfs';\r\n\r\nimport { FormGroup, FormControl, Button, Spinner, FormFile } from 'react-bootstrap'\r\n\r\n//import Navigation from './Navigation'\r\n\r\nclass RegisterSeller extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            LandInstance: undefined,\r\n            account: null,\r\n            web3: null,\r\n            name: '',\r\n            age: '',\r\n            aadharNumber: '',\r\n            panNumber: '',\r\n            landsOwned: '',\r\n            isVerified: false,\r\n            buffer2: null,\r\n            document: '',\r\n        }\r\n        this.captureDoc = this.captureDoc.bind(this);\r\n        this.addDoc = this.addDoc.bind(this);\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        //For refreshing page only once\r\n        if (!window.location.hash) {\r\n            window.location = window.location + '#loaded';\r\n            window.location.reload();\r\n        }\r\n\r\n        try {\r\n            //Get network provider and web3 instance\r\n            const web3 = await getWeb3();\r\n\r\n            const accounts = await web3.eth.getAccounts();\r\n\r\n            const networkId = await web3.eth.net.getId();\r\n            const deployedNetwork = LandContract.networks[networkId];\r\n            const instance = new web3.eth.Contract(\r\n                LandContract.abi,\r\n                deployedNetwork && deployedNetwork.address,\r\n            );\r\n\r\n            this.setState({ LandInstance: instance, web3: web3, account: accounts[0] });\r\n\r\n\r\n        } catch (error) {\r\n            // Catch any errors for any of the above operations.\r\n            alert(\r\n                `Failed to load web3, accounts, or contract. Check console for details.`,\r\n            );\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    addDoc = async () => {\r\n        // alert('In add image')\r\n        await ipfs.files.add(this.state.buffer2, (error, result) => {\r\n          if (error) {\r\n            alert(error)\r\n            return\r\n          }\r\n    \r\n          alert(result[0].hash)\r\n          this.setState({ document: result[0].hash });\r\n          console.log('document:', this.state.document);\r\n        })\r\n      }\r\n\r\n    registerSeller = async () => {\r\n        this.addDoc();\r\n        // alert('After add image')\r\n        await new Promise(resolve => setTimeout(resolve, 10000));\r\n        if (this.state.name == '' || this.state.age == '' || this.state.aadharNumber == '' || this.state.panNumber == '' || this.state.landsOwned == '') {\r\n            alert(\"All the fields are compulsory!\");\r\n        } else if (!Number(this.state.aadharNumber) || this.state.aadharNumber.length != 12) {\r\n            alert(\"Aadhar Number should be 12 digits long!\");\r\n        } else if (this.state.panNumber.length != 10) {\r\n            alert(\"Pan Number should be a 10 digit unique number!\");\r\n        } else if (!Number(this.state.age) || this.state.age < 21) {\r\n            alert(\"Your age must be a number\");\r\n        } else {\r\n            await this.state.LandInstance.methods.registerSeller(\r\n                this.state.name,\r\n                this.state.age,\r\n                this.state.aadharNumber,\r\n                this.state.panNumber,\r\n                this.state.landsOwned, \r\n                this.state.document)\r\n                .send({\r\n                    from: this.state.account,\r\n                    gas: 2100000\r\n                }).then(response => {\r\n                    this.props.history.push(\"/Seller/SellerDashboard\");\r\n                });\r\n\r\n            //Reload\r\n            window.location.reload(false);\r\n        }\r\n    }\r\n\r\n    updateName = event => (\r\n        this.setState({ name: event.target.value })\r\n    )\r\n    updateAge = event => (\r\n        this.setState({ age: event.target.value })\r\n    )\r\n    updateAadhar = event => (\r\n        this.setState({ aadharNumber: event.target.value })\r\n    )\r\n    updatePan = event => (\r\n        this.setState({ panNumber: event.target.value })\r\n    )\r\n    updateOwnedLands = event => (\r\n        this.setState({ landsOwned: event.target.value })\r\n    )\r\n    captureDoc(event) {\r\n        event.preventDefault()\r\n        const file2 = event.target.files[0]\r\n        const reader2 = new window.FileReader()\r\n        reader2.readAsArrayBuffer(file2)\r\n        reader2.onloadend = () => {\r\n          this.setState({ buffer2: Buffer(reader2.result) })\r\n          console.log('buffer2', this.state.buffer2)\r\n        }\r\n        console.log('caoture doc...')\r\n      }\r\n\r\n    render() {\r\n        if (!this.state.web3) {\r\n            return (\r\n                <div>\r\n                    <div className=\"img-wrapper\">\r\n                        <img src=\"https://i.pinimg.com/originals/71/6e/00/716e00537e8526347390d64ec900107d.png\" className=\"logo\" />\r\n                        <div className=\"wine-text-container\">\r\n                            <div className=\"site-title wood-text\">Land Registry</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"auth-wrapper\">\r\n                        <div className=\"auth-inner\">\r\n                            <div>\r\n                                <div>\r\n                                    <h1>\r\n                                        <Spinner animation=\"border\" variant=\"warning\" />\r\n                                    </h1>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"bodyC\">\r\n\r\n                <div className=\"img-wrapper\">\r\n                    <img src=\"https://i.pinimg.com/originals/71/6e/00/716e00537e8526347390d64ec900107d.png\" className=\"logo\" />\r\n                    <div className=\"wine-text-container\">\r\n                        <div className=\"site-title wood-text\">Land Registry</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"auth-wrapper\">\r\n                    <div className=\"auth-inner\">\r\n                        <div className=\"App\">\r\n\r\n                            <div>\r\n                                <div>\r\n                                    <h1 style={{ color: \"black\" }}>\r\n                                        Seller Registration\r\n                  </h1>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n\r\n                            <div className=\"form\">\r\n                                <FormGroup>\r\n                                    <div className=\"form-label\">\r\n                                        Enter Name --\r\n                      </div>\r\n                                    <div className=\"form-input\">\r\n                                        <FormControl\r\n                                            input='text'\r\n                                            value={this.state.name}\r\n                                            onChange={this.updateName}\r\n                                        />\r\n                                    </div>\r\n                                </FormGroup>\r\n\r\n                                <FormGroup>\r\n                                    <div className=\"form-label\">\r\n                                        Enter Age --\r\n                      </div>\r\n                                    <div className=\"form-input\">\r\n                                        <FormControl\r\n                                            input='text'\r\n                                            value={this.state.age}\r\n                                            onChange={this.updateAge}\r\n                                        />\r\n                                    </div>\r\n                                </FormGroup>\r\n\r\n                                <FormGroup>\r\n                                    <div className=\"form-label\">\r\n                                        Enter Aadhar No --\r\n                      </div>\r\n                                    <div className=\"form-input\">\r\n                                        <FormControl\r\n                                            input='text'\r\n                                            value={this.state.aadharNumber}\r\n                                            onChange={this.updateAadhar}\r\n                                        />\r\n                                    </div>\r\n                                </FormGroup>\r\n\r\n                                <FormGroup>\r\n                                    <div className=\"form-label\">\r\n                                        Enter Pan no --\r\n                      </div>\r\n                                    <div className=\"form-input\">\r\n                                        <FormControl\r\n                                            input='text'\r\n                                            value={this.state.panNumber}\r\n                                            onChange={this.updatePan}\r\n                                        />\r\n                                    </div>\r\n                                </FormGroup>\r\n\r\n                                <FormGroup>\r\n                                    <div className=\"form-label\">\r\n                                        Enter Owned Lands --\r\n                      </div>\r\n                                    <div className=\"form-input\">\r\n                                        <FormControl\r\n                                            input='text'\r\n                                            value={this.state.landsOwned}\r\n                                            onChange={this.updateOwnedLands}\r\n                                        />\r\n                                    </div>\r\n                                </FormGroup>\r\n\r\n                                <FormGroup>\r\n                                    <label>Add your Aadhar Card (PDF Format)</label>\r\n                                    <FormFile\r\n                                        id=\"File2\"\r\n                                        onChange={this.captureDoc}\r\n                                    />\r\n                                </FormGroup>\r\n\r\n\r\n                                <Button onClick={this.registerSeller} className=\"button-vote\">\r\n                                    Register as Seller\r\n                  </Button>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default RegisterSeller;\r\n"]},"metadata":{},"sourceType":"module"}