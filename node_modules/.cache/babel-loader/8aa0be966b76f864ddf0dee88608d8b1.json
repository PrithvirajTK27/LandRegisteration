{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\prith\\\\Desktop\\\\New folder (5)\\\\starter_kit-master\\\\LandRegisteration\\\\src\\\\views\\\\buyerProfile.js\";\nimport React, { Component } from 'react';\nimport Land from \"../artifacts/Land.json\";\nimport getWeb3 from \"../getWeb3\";\nimport \"../index.css\";\nimport { FormControl } from \"react-bootstrap\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport { DrizzleProvider } from '@drizzle/react-plugin';\nimport { Spinner } from 'react-bootstrap';\nimport { Button, Card, CardHeader, CardBody, CardFooter, CardText, FormGroup, Form, Input, Row, Col } from \"reactstrap\";\nimport { LoadingContainer, AccountData, ContractData, ContractForm } from 'drizzle-react-components';\nvar drizzleOptions = {\n  contracts: [Land]\n};\nvar buyer;\nvar buyerTable = [];\nvar verification = [];\n\nvar buyerProfile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(buyerProfile, _Component);\n\n  function buyerProfile(props) {\n    var _this;\n\n    _classCallCheck(this, buyerProfile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(buyerProfile).call(this, props));\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var web3, accounts, currentAddress, networkId, deployedNetwork, instance, buyer_verify, not_verify;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              //For refreshing page only once\n              if (!window.location.hash) {\n                window.location = window.location + '#loaded';\n                window.location.reload();\n              }\n\n              _context.prev = 1;\n              _context.next = 4;\n              return getWeb3();\n\n            case 4:\n              web3 = _context.sent;\n              _context.next = 7;\n              return web3.eth.getAccounts();\n\n            case 7:\n              accounts = _context.sent;\n              _context.next = 10;\n              return web3.currentProvider.selectedAddress;\n\n            case 10:\n              currentAddress = _context.sent;\n              console.log(currentAddress);\n              _context.next = 14;\n              return web3.eth.net.getId();\n\n            case 14:\n              networkId = _context.sent;\n              deployedNetwork = Land.networks[networkId];\n              instance = new web3.eth.Contract(Land.abi, deployedNetwork && deployedNetwork.address);\n\n              _this.setState({\n                LandInstance: instance,\n                web3: web3,\n                account: accounts[0]\n              });\n\n              _context.next = 20;\n              return _this.state.LandInstance.methods.isVerified(currentAddress).call();\n\n            case 20:\n              buyer_verify = _context.sent;\n\n              _this.setState({\n                verified: buyer_verify\n              });\n\n              _context.next = 24;\n              return _this.state.LandInstance.methods.isRejected(currentAddress).call();\n\n            case 24:\n              not_verify = _context.sent;\n\n              if (buyer_verify) {\n                verification.push(React.createElement(\"p\", {\n                  id: \"verified\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 80\n                  },\n                  __self: this\n                }, \"Verified \", React.createElement(\"i\", {\n                  class: \"fas fa-user-check\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 80\n                  },\n                  __self: this\n                })));\n              } else if (not_verify) {\n                verification.push(React.createElement(\"p\", {\n                  id: \"rejected\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 82\n                  },\n                  __self: this\n                }, \"Rejected \", React.createElement(\"i\", {\n                  class: \"fas fa-user-times\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 82\n                  },\n                  __self: this\n                })));\n              } else {\n                verification.push(React.createElement(\"p\", {\n                  id: \"unknown\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 84\n                  },\n                  __self: this\n                }, \"Not Yet Verified \", React.createElement(\"i\", {\n                  class: \"fas fa-user-cog\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 84\n                  },\n                  __self: this\n                })));\n              }\n\n              _context.next = 28;\n              return _this.state.LandInstance.methods.getBuyerDetails(currentAddress).call();\n\n            case 28:\n              buyer = _context.sent;\n              console.log(buyer);\n              console.log(buyer[0]);\n              buyerTable.push(React.createElement(React.Fragment, null, React.createElement(Row, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 92\n                },\n                __self: this\n              }, React.createElement(Col, {\n                md: \"12\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 93\n                },\n                __self: this\n              }, React.createElement(FormGroup, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 94\n                },\n                __self: this\n              }, React.createElement(\"label\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 95\n                },\n                __self: this\n              }, \"Your Wallet Address: \"), React.createElement(Input, {\n                disabled: true,\n                type: \"text\",\n                value: currentAddress,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 96\n                },\n                __self: this\n              })))), React.createElement(Row, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 104\n                },\n                __self: this\n              }, React.createElement(Col, {\n                md: \"12\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 105\n                },\n                __self: this\n              }, React.createElement(FormGroup, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 106\n                },\n                __self: this\n              }, React.createElement(\"label\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 107\n                },\n                __self: this\n              }, \"Name\"), React.createElement(Input, {\n                disabled: true,\n                type: \"text\",\n                value: buyer[0],\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 108\n                },\n                __self: this\n              })))), React.createElement(Row, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 117\n                },\n                __self: this\n              }, React.createElement(Col, {\n                md: \"12\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 118\n                },\n                __self: this\n              }, React.createElement(FormGroup, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 119\n                },\n                __self: this\n              }, React.createElement(\"label\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 120\n                },\n                __self: this\n              }, \"Age\"), React.createElement(Input, {\n                disabled: true,\n                type: \"text\",\n                value: buyer[5],\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 121\n                },\n                __self: this\n              })))), React.createElement(Row, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 130\n                },\n                __self: this\n              }, React.createElement(Col, {\n                md: \"12\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 131\n                },\n                __self: this\n              }, React.createElement(FormGroup, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 132\n                },\n                __self: this\n              }, React.createElement(\"label\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 133\n                },\n                __self: this\n              }, \"Email Address \"), React.createElement(Input, {\n                disabled: true,\n                type: \"text\",\n                value: buyer[4],\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 134\n                },\n                __self: this\n              })))), React.createElement(Row, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 142\n                },\n                __self: this\n              }, React.createElement(Col, {\n                md: \"12\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 143\n                },\n                __self: this\n              }, React.createElement(FormGroup, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 144\n                },\n                __self: this\n              }, React.createElement(\"label\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 145\n                },\n                __self: this\n              }, \"City\"), React.createElement(Input, {\n                disabled: true,\n                type: \"text\",\n                value: buyer[1],\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 146\n                },\n                __self: this\n              })))), React.createElement(Row, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 154\n                },\n                __self: this\n              }, React.createElement(Col, {\n                md: \"12\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 155\n                },\n                __self: this\n              }, React.createElement(FormGroup, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 156\n                },\n                __self: this\n              }, React.createElement(\"label\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 157\n                },\n                __self: this\n              }, \"Aadhar Number\"), React.createElement(Input, {\n                disabled: true,\n                type: \"text\",\n                value: buyer[6],\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 158\n                },\n                __self: this\n              })))), React.createElement(Row, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 166\n                },\n                __self: this\n              }, React.createElement(Col, {\n                md: \"12\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 167\n                },\n                __self: this\n              }, React.createElement(FormGroup, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 168\n                },\n                __self: this\n              }, React.createElement(\"label\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 169\n                },\n                __self: this\n              }, \"Pan Number\"), React.createElement(Input, {\n                disabled: true,\n                type: \"text\",\n                value: buyer[2],\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 170\n                },\n                __self: this\n              })))), React.createElement(Row, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 178\n                },\n                __self: this\n              }, React.createElement(Col, {\n                md: \"12\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 179\n                },\n                __self: this\n              }, React.createElement(FormGroup, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 180\n                },\n                __self: this\n              }, React.createElement(\"label\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 181\n                },\n                __self: this\n              }, \"Your Aadhar Document\"), React.createElement(\"div\", {\n                class: \"post-meta\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 182\n                },\n                __self: this\n              }, React.createElement(\"span\", {\n                class: \"timestamp\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 182\n                },\n                __self: this\n              }, \" \", React.createElement(\"a\", {\n                href: \"https://ipfs.io/ipfs/\".concat(buyer[3]),\n                target: \"_blank\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 182\n                },\n                __self: this\n              }, \"Here\"))))))));\n              _context.next = 38;\n              break;\n\n            case 34:\n              _context.prev = 34;\n              _context.t0 = _context[\"catch\"](1);\n              // Catch any errors for any of the above operations.\n              alert(\"Failed to load web3, accounts, or contract. Check console for details.\");\n              console.error(_context.t0);\n\n            case 38:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[1, 34]]);\n    }));\n    _this.state = {\n      LandInstance: undefined,\n      account: null,\n      web3: null,\n      buyers: 0,\n      sellers: 0,\n      verified: ''\n    };\n    return _this;\n  }\n\n  _createClass(buyerProfile, [{\n    key: \"render\",\n    value: function render() {\n      if (!this.state.web3) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, React.createElement(Spinner, {\n          animation: \"border\",\n          variant: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }))));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(DrizzleProvider, {\n        options: drizzleOptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(LoadingContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"Buyer Profile\"), React.createElement(\"h5\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, verification)), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, buyerTable), React.createElement(Button, {\n        href: \"/admin/updateBuyer\",\n        className: \"btn-fill\",\n        disabled: !this.state.verified,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"Edit Profile\")), React.createElement(CardFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return buyerProfile;\n}(Component);\n\nexport default buyerProfile;","map":{"version":3,"sources":["C:\\Users\\prith\\Desktop\\New folder (5)\\starter_kit-master\\LandRegisteration\\src\\views\\buyerProfile.js"],"names":["React","Component","Land","getWeb3","FormControl","DrizzleProvider","Spinner","Button","Card","CardHeader","CardBody","CardFooter","CardText","FormGroup","Form","Input","Row","Col","LoadingContainer","AccountData","ContractData","ContractForm","drizzleOptions","contracts","buyer","buyerTable","verification","buyerProfile","props","componentDidMount","window","location","hash","reload","web3","eth","getAccounts","accounts","currentProvider","selectedAddress","currentAddress","console","log","net","getId","networkId","deployedNetwork","networks","instance","Contract","abi","address","setState","LandInstance","account","state","methods","isVerified","call","buyer_verify","verified","isRejected","not_verify","push","getBuyerDetails","alert","error","undefined","buyers","sellers"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Land from \"../artifacts/Land.json\";\nimport getWeb3 from \"../getWeb3\";\nimport \"../index.css\";\nimport { FormControl } from \"react-bootstrap\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport { DrizzleProvider } from '@drizzle/react-plugin';\nimport { Spinner } from 'react-bootstrap';\nimport {\n    Button,\n    Card,\n    CardHeader,\n    CardBody,\n    CardFooter,\n    CardText,\n    FormGroup,\n    Form,\n    Input,\n    Row,\n    Col,\n  } from \"reactstrap\";\n\nimport {\n    LoadingContainer,\n    AccountData,\n    ContractData,\n    ContractForm\n} from 'drizzle-react-components'\n\nconst drizzleOptions = {\n    contracts: [Land]\n}\n\nvar buyer;\nvar buyerTable = [];\nvar verification = [];\n\nclass buyerProfile extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            LandInstance: undefined,\n            account: null,\n            web3: null,\n            buyers: 0,\n            sellers: 0,\n            verified: '',\n        }\n    }\n\n    componentDidMount = async () => {\n        //For refreshing page only once\n        if (!window.location.hash) {\n            window.location = window.location + '#loaded';\n            window.location.reload();\n        }\n\n        try {\n            //Get network provider and web3 instance\n            const web3 = await getWeb3();\n\n            const accounts = await web3.eth.getAccounts();\n\n            const currentAddress = await web3.currentProvider.selectedAddress;\n            console.log(currentAddress);\n            const networkId = await web3.eth.net.getId();\n            const deployedNetwork = Land.networks[networkId];\n            const instance = new web3.eth.Contract(\n                Land.abi,\n                deployedNetwork && deployedNetwork.address,\n            );\n\n            this.setState({ LandInstance: instance, web3: web3, account: accounts[0] });\n            \n            var buyer_verify = await this.state.LandInstance.methods.isVerified(currentAddress).call();\n            this.setState({verified: buyer_verify});     \n            var not_verify = await this.state.LandInstance.methods.isRejected(currentAddress).call();\n            if(buyer_verify){\n              verification.push(<p id = \"verified\">Verified <i class=\"fas fa-user-check\"></i></p>);\n            }else if(not_verify){\n              verification.push(<p  id = \"rejected\">Rejected <i class=\"fas fa-user-times\"></i></p>);\n            }else{\n              verification.push(<p id = \"unknown\">Not Yet Verified <i class=\"fas fa-user-cog\"></i></p>);\n            }\n\n            buyer = await this.state.LandInstance.methods.getBuyerDetails(currentAddress).call();\n            console.log(buyer);\n            console.log(buyer[0]);\n\n            buyerTable.push(<>\n            <Row>\n                <Col md=\"12\">\n                  <FormGroup>\n                    <label>Your Wallet Address: </label>\n                    <Input\n                      disabled\n                      type=\"text\"\n                      value={currentAddress}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n              <Row>\n                <Col md=\"12\">\n                  <FormGroup>\n                    <label>Name</label>\n                    <Input\n                      disabled\n                      type=\"text\"\n                      value={buyer[0]}\n                    />\n                  </FormGroup>\n                </Col>\n\n              </Row>\n              <Row>\n                <Col md=\"12\">\n                  <FormGroup>\n                    <label>Age</label>\n                    <Input\n                      disabled\n                      type=\"text\"\n                      value={buyer[5]}\n                    />\n                  </FormGroup>\n                </Col>\n\n              </Row>\n              <Row>\n                <Col md=\"12\">\n                  <FormGroup>\n                    <label>Email Address </label>\n                    <Input\n                      disabled\n                      type=\"text\"\n                      value={buyer[4]}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n              <Row>\n                <Col md=\"12\">\n                  <FormGroup>\n                    <label>City</label>\n                    <Input\n                      disabled\n                      type=\"text\"\n                      value={buyer[1]}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n              <Row>\n                <Col md=\"12\">\n                  <FormGroup>\n                    <label>Aadhar Number</label>\n                    <Input\n                      disabled\n                      type=\"text\"\n                      value={buyer[6]}\n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n              <Row>\n                <Col md=\"12\">\n                  <FormGroup>\n                    <label>Pan Number</label>\n                    <Input\n                    disabled\n                    type=\"text\"\n                    value={buyer[2]}  \n                    />\n                  </FormGroup>\n                </Col>\n              </Row>\n              <Row>\n                <Col md=\"12\">\n                  <FormGroup>\n                    <label>Your Aadhar Document</label>\n                    <div class=\"post-meta\"><span class=\"timestamp\"> <a href={`https://ipfs.io/ipfs/${buyer[3]}`} target=\"_blank\">Here</a></span></div>\n                  </FormGroup>\n                </Col>\n              </Row>\n             </>);\n\n        } catch (error) {\n            // Catch any errors for any of the above operations.\n            alert(\n                `Failed to load web3, accounts, or contract. Check console for details.`,\n            );\n            console.error(error);\n        }\n    };\n\n    render() {\n        if (!this.state.web3) {\n            return (\n                <div>\n                    <div>\n                        <h1>\n                            <Spinner animation=\"border\" variant=\"primary\" />\n                        </h1>\n                    </div>\n\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"content\">\n                <DrizzleProvider options={drizzleOptions}>\n                    <LoadingContainer>\n                        <Row>\n                            <Col md=\"8\">\n                                <Card>\n                                    <CardHeader>\n                                        <h5 className=\"title\">Buyer Profile</h5>\n                                        <h5 className=\"title\">{verification}</h5>\n\n                                    </CardHeader>\n                                    <CardBody>\n                                        <Form>\n                                            {buyerTable}\n                                        </Form>\n                                        <Button href=\"/admin/updateBuyer\"  className=\"btn-fill\" disabled={!this.state.verified} color=\"primary\">\n                                            Edit Profile\n                                      </Button>\n                                    </CardBody>\n                                    <CardFooter>\n\n                                    </CardFooter>\n                                </Card>\n                            </Col>\n                        </Row>\n                    </LoadingContainer>\n                </DrizzleProvider>\n            </div>\n        );\n\n    }\n}\n\nexport default buyerProfile;"]},"metadata":{},"sourceType":"module"}